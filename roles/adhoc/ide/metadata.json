{
  "services": [],
  "resources": [
    {
      "service_discovery_service": {
        "${instanceId}-ide": {
          "Name": "ide",
          "Address": "${instance.privateIp}",
          "Port": 8000,
          "Tags" : [ "${instanceId}", "${environmentId}" ]
        }
      }
    },
    {
      "proxy_service": {
        "${instanceId}-ide": {
          "environment": "cd",
          "serverNumber": 1,
          "segment": "ci",
          "privateKey": "master_key",
          "proxy_ssl_virtual_host": "default",
          "location": "/ide/",
          "template": "ide.tmpl",
          "passthrough": "https://${instance.privateIp}:8000"
        }
      }
    },
    {
      "service_endpoint": {
        "${instanceId}-ide": {
          "service": "ide",
          "segment":"${segmentId}",
          "secure":"https://${secureDomain}/ide"
        }
      }
    }
  ]
}